<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <script>
        /**
        * String对象
        * 创建方式：字面量和构造函数
        * 字符串不可变性
        */

        // 创建String对象
        var str1 = '    1,2,3sadqdzxcbvw    ';
        var str2 = new String('456');

        // 处理String对象
        console.log(
            str1.length,                         // 获取字符串长度
            str1.charAt(5),                      // 定位index为5的目标元素
            str1.charCodeAt(5),                  // 定位index为5的目标元素unicode编码
            String.fromCharCode(100,101,102),    // 静态方法，转码
            str1.concat(1,2,3),                  // 字符串拼接
            str1.indexOf('2',2),                 // 获取字符在字符串的索引，第二个参数为搜索的起始位置
            str1.lastIndexOf('c'),               // 从后面获取字符在字符串的索引
            str1.match(/\d+/),                   // 匹配字符串
            str1.replace(/\d+/,'456'),           // 替换字符串
            str1.slice(3,-1),                    // 截取字符串，第二个参数为结尾位置
            str1.substr(3,2),                    // 截取字符串，第二个参数为截取长度
            str1.substring(3,8),                 // 截取字符串，第二个参数为结尾位置，不能为负数
            str1.split(',',2),                   // 分割字符串，分隔符为,第二个参数为分割后返回的数组长度 
            str1.toLowerCase(),                  // 转换为小写字符
            str1.toUpperCase(),                  // 转换为大写字符
            str1.toLocaleLowerCase(),            // 转换为本地小写字符
            str1.toLocaleUpperCase(),            // 转换为本地大写字符
            str1.trim()                          // 去掉左右两边的空格
        );

        // 练习1：找到这个字符串中所有的o出现的位置
        var str3 = 'hello wod odd ott fbo nhyo';

        var searchIndexByIndex = function(str,c){
            var indexs = [],    // 存储位置信息
                index = 0;      // 存储每次查找的位置

            //查找元素并将位置存储到indexs数组
            while ((index = str.indexOf(c,index)) != -1) {
                indexs.push(index);
                index ++;
            }
            return indexs;
        };

        // 练习2：找到字符串中的每个字符出现了几次
        var countOfEveryChar = function(str){
            // 存储数据，字符:出现次数
            var counts = {};

            // 遍历字符串
            for(var i=0;i<str.length;i++){
                // 如果属性存在就在基础上递增，不存在就进行初始化为0
                counts[str[i]] = counts[str[i]] ? (counts[str[i]] + 1) : 1; 
            }
            return counts;
        };

        console.log(
            searchIndexByIndex(str3,'o'),
            countOfEveryChar(str3)
        );
    </script>
</body>
</html>