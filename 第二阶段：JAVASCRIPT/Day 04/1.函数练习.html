<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>
<body>
  <script>
    /**
    * 函数练习1
    */
    
    var mathUtils = {
      // 求两数之差
      sub:function(x,y){
        return x - y;
      },
      // 求一组数的最大值
      getMax:function(arr){
        var max = arr[0];
        for(var i=1;i<arr.length;i++){
          if(max < arr[i]){
            max = arr[i];
          }
        }
        return max;
      },
      // 求一组数的最小值
      getMin:function(arr){
        var min = arr[0];
        for(var i=1;i<arr.length;i++){
          if(min > arr[i]){
            min = arr[i];
          }
        }
        return min;
      },
      // 求一组数的和
      sum:function(arr){
        var res = 0;
        for(var i in arr){
          res += arr[i];
        }
        return res;
      },
      // 求一个数组中的最大值和最小值还有和
      getMaxAndMinAndSum:function(arr){
        arr.sort(function(a,b){
          return a - b;
        });
        var res = arr.reduce(function(pre,curr,index){
          return pre + curr;
        },0);
        return {
          max:arr[arr.length - 1],
          min:arr[0],
          sum:res
        };
      },
      // 通过函数实现函数翻转
      reverse:function(arr){
        var temp;
        for(var i=0;i<arr.length / 2;i++){
          temp = arr[i];
          arr[i] = arr[arr.length - 1 - i];
          arr[arr.length - 1 - i] = temp;
        }
        return arr;
      },
      // 通过函数实现冒泡排序
      babbleSort:function(arr){
        var temp;
        for(var i=1;i<arr.length;i++){
          for(var j=0;j<arr.length-i;j++){
            if(arr[j]>arr[j+1]){
              temp = arr[j];
              arr[j] = arr[j+1];
              arr[j+1] = temp;
            }
          }
        }
        return arr;
      },
      // 求一个数的阶乘
      factorial:function(n){
        var res = 1,i = 1;
        while(i <= n){
          res *= i;
          i++; 
        }
        return res;
      },
      // 求一个数的阶乘和
      sumOfFactorial:function(n){
        var res = 0;
        for(var i=1;i<=n;i++){
          res += this.factorial(i);
        }
        return res;
      },
      // 输入，年月日，获取这个日期是这一年的第多少天
      // 1，3，5，7，8，10，12为31天，2月平年为28天，闰年为29天，其他月份为30天
      calcDate:function(year,month,day){
        // 区分平年和闰年
        var feb = ((year % 4 == 0 && year % 100 != 0) || year % 400 == 0) ? 29 : 28;
        // 存储天数
        var days = 0;
        // 按月份计算天数
        for(var i=1;i<month;i++){
          if([1,3,5,7,8,10,12].indexOf(i) !== -1){
            days += 31;
          }else if([4,6,9,11].indexOf(i) !== -1){
            days += 30;
          }else{
            days += feb;
          }
        }
        // 加上月份之后过的天数
        days += day;
        return days;
      }

    }

    console.log(
      mathUtils.sum([1,2,3]),
      mathUtils.getMaxAndMinAndSum([5,2,9,1,4,8]),
      mathUtils.reverse([1,2,3,4,5]),
      mathUtils.babbleSort([5,2,9,1,4,8]),
      mathUtils.factorial(6),
      mathUtils.calcDate(2000,3,2),
      mathUtils.sumOfFactorial(3)
    );
  </script>
</body>
</html>