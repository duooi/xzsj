<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <script>
        /**
        * 正则表达式
        */

        // 1.创建正则表达式的两种方式：对象与字面量，如果以对象创建的话要给\加双重转义
        var reg1 = new RegExp('\\d{2,4}','g'),        // 以对象方式创建
            reg2 = /\d{2,4}/g;                        // 以字面量方式创建

        console.log(reg1,reg2);

        // 2.元字符
        var str1 = 'adsdqdqd138139   ';

        var regSet = {
            0:/.+/,              // .
            1:/[0-9A-Za-z]+/,    // []
            2:/(\w+)|(\d+)/,     // |
            3:/(\w+)|(\d+)/,     // ()
            4:/^a/,              // ^
            5:/9$/,              // $
            6:/\d*/,             // *
            7:/\d+/,             // + 
            8:/[-]?/,            // ?
            9:/\d{6,8}/,         // {},
            10:/\s+/,            // \s和\S
        };

        console.log(
            regSet[0].test(str1),
            regSet[1].test(str1),
            regSet[2].test(str1),
            regSet[3].exec(str1),
            regSet[4].test(str1),
            regSet[5].test(str1),
            regSet[6].test(str1),
            regSet[7].test(str1),
            regSet[8].test(str1),
            regSet[9].test(str1),
            regSet[10].test(str1),
        );

        // 3.模式和字符串方法
        var str2 = 'asdaASDA1234asdaASDA';
        var str3 = 'asdaASDA1234\nasdaASDA';
        var str4 = '  123  4   ';

        var patterns = {
            0:/[a-zA-Z]+/g,
            1:/[a-zA-Z]+/i,
            2:/\w+/m,
            3:/\d+/g,
        };

        console.log(
            patterns[0].exec(str2),
            patterns[0].exec(str2),
            patterns[1].exec(str2),
            patterns[2].exec(str3),
            patterns[2].exec(str3),
            str2.match(patterns[0]),
            str2.replace(patterns[3],'789'),
            str4.trim()
        );

        // 4.案例练习
        var rules = {
            // 用户名正则，4到16位（字母，数字，下划线，减号）
            user:/^[a-zA-Z0-9_-]{4,16}$/,
            // 密码正则，最少6位，包括至少一个大写字母，1个小写字母，1个数字，1个特殊字符
            pass:/(\w){2,}/,
            // 整数正则
            pos:/^\d+$/,
            nav:/^-\d+$/,
            int:/^-?\d+$/,
            // 数字正则
            number:/^-?\d+([.]\d+)?$/,
            posnum:/^\d+([.]\d+)?$/,
            navnum:/^-?\d+([.]\d+)?$/,
            // 邮箱正则
            email:/^[0-9A-Za-z\.\-]+\@[0-9A-Za-z\.\-]+\.[a-zA-Z]+(\.[a-zA-Z]+)?$/,
            // 手机号码正则
            phone:/^(13|14|15|17|18|19)[0-9]{9}$/,
            // 身份证号正则
            idcard:/^[1-9]\d{5}((17|18|19)\d{2}|(20[0-1]\d)|(2020))((0\d)|(1[0-2]))(([01]\d)|(2\d)|(3[01]))\d{3}[0-9xX]$/,
            // url正则，完整的url应包括：协议，主机，端口号，域名，路径，文件名，参数(可选），锚(可选)
            url:/^([a-zA-Z0-9])+\:\/\/(([a-zA-Z0-9])+\.([a-zA-Z0-9])+\.([a-zA-Z0-9])+)(\:\d+)?(\/\w+(\.\w+)?)*(\?\w+\=\w+)*(\&\w+\=\w+)*(\#\w+)*$/,
            // ipv4地址正则
            ipv4:/^(\d{1,3}\.){3}(\d{1,3})$/,
            // 十六进制颜色正则
            hex:/^\#[0-9A-Fa-f]{6}$/,
            // 日期正则
            date:/^(\d{4})\-((0\d)|(1[0-2]))\-(([0-2]\d)|(3[0-1]))$/,
            // QQ号码正则
            qq:/^[1-9][0-9]{4,10}$/,
            // 微信号正则
            wx:/^[a-zA-Z][a-zA-Z0-9\-\_]{5,19}$/,
            // 车牌号正则
            car:/^[京津沪渝冀豫云辽黑湘皖鲁新苏浙赣鄂桂甘晋蒙陕吉闽贵粤青藏川宁琼使领A-Z]{1}[A-Z]{1}[A-Z0-9]{4}[A-Z0-9挂学警港澳]{1}$/,
            // 包含中文规则
            cn:/^[\u4E00-\u9FA5]$/
        }
    </script>
</body>
</html>